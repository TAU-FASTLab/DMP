<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Data Protection Form</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
<style>
  /* Add CSS styles to match the picture as closely as possible */
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  .form-title {
    background-color: #660099;
    color: white;
    padding: 10px;
    text-align: center;
  }
  .form-section {
    border: 1px solid black;
    margin-top: 10px;
    padding: 10px;
  }
  .button {
    display: block;
    margin-top: 20px;
  }
  #dpiTemplateLink {
    color: #0000EE; /* Blue color like standard link */
    text-decoration: none; /* No underline by default */
  }
  #dpiTemplateLink:hover {
    text-decoration: underline; /* Underline on hover */
  }
</style>
</head>
<body>
    <div class="form-title">Data protection â€“ personal data: CheckList whether a Data Management Plan is needed</div>
    <form id="dataProtectionForm">
        <div class="form-section">
            <p><strong>1. Processing of personal data</strong></p>
            <p>Will personal data be processed during your study? The term "personal data" is broadly defined and refers to all information relating to an identified or identifiable natural person.</p>
            <label><input type="radio" name="processingData" value="Yes"> Yes</label>
            <label><input type="radio" name="processingData" value="No"> No</label>
        </div>
        <div class="form-section">
          <p><strong>2. Assessment of data protection risks</strong></p>
          <p>Assess whether the processing of personal data poses risks to your data subjects. Please conduct a pre-assessment to find out whether a more extensive data protection impact assessment is needed Pre-assessment.</p>
          <label><input type="radio" name="assessmentdata" value="Yes"> Yes</label>
          <label><input type="radio" name="assessmentdata" value="No"> No</label>
      </div>

      <script>
        // Function to toggle the visibility of the DPIA completion section
        function toggleDPIASection() {
          var dpiIsRequiredChecked = document.getElementById('dpiIsRequired').checked;
          var dpiASection = document.getElementById('dpiASection');
          dpiASection.style.display = dpiIsRequiredChecked ? 'block' : 'none';
        }
        
       // function submitForm() {
         // var dpiNotRequired = document.getElementById('dpiNotRequired').checked;
          //var dpiIsRequired = document.getElementById('dpiIsRequired').checked;
          //var dpiCompletedYes = document.getElementById('dpiCompletedYes').checked;
          //var notAssessed = document.getElementById('notAssessed').checked;
        
          //if (dpiIsRequired && !dpiCompletedYes) {
          //  alert('Please complete the DPIA with the data protection officer before submitting.');
          //  return false;
          //}
        
          //alert('Form submitted successfully!');
          // Add actual form submission logic here
        
      </script>
      <div class="form-section">
        <p>
          If your processing activities are likely to result in a high risk to the rights and freedoms of data subjects,
          you will need to complete a more extensive Data Protection Impact Assessment (DPIA)
          <a href="https://www.tuni.fi/en/research/responsible-research/data-protection#expander-trigger--52f291f7-6b41-4f8d-ae47-a6b51f562a97" target="_blank" id="dpiTemplateLink">DPIA template</a> .
        </p>
        <p>
          To read more, go to the        
          <a href= https://tietosuoja.fi/en/impact-assessments target="_blank" id="dpiTemplateLink">Impact assessment page</a>
           on the website of the Office of the Data Protection Ombudsman. Before completing a DPIA, please be sure to consult with the data protection officer of Tampere Universities
           <a href=mailto:dpo@tuni.fi  target="_blank" id="dpiTemplateLinkemail">(dpo@tuni.fi)</a>. 
        </p>
        <p><strong>Have you assessed the need for a DPIA?</strong></p>
      <input type="radio" id="dpiNotRequired" name="dpiAssessment" onclick="toggleDPIASection(false)"> <label for="dpiNotRequired">Yes, DPIA is not required</label><br>
      <input type="radio" id="dpiIsRequired" name="dpiAssessment" onclick="toggleDPIASection(true)"><label for="dpiIsRequired"> Yes, a DPIA is required</label><br>

      <div id="dpiASection" style="display:none; margin-left: 20px;">
        DPIA has been completed in collaboration with the data protection officer (dpo@tuni.fi)<br>
        <input type="radio" id="dpiCompletedYes" name="dpiCompleted" value="Yes"> <label for="dpiIsRequired">Yes</label><br>
        <input type="radio" id="dpiCompletedNo" name="dpiCompleted" value="No"><label for="dpiIsRequired"> No </label><br>
      </div>
      <input type="radio" id="notAssessed" name="dpiAssessment" onclick="toggleDPIASection(false)"><label for="dpiIsRequired">The need for a DPIA has not been assessed</label><br>
     </div>
        <!-- Add additional form sections here if needed -->
        <script src="scriptgenerateCheckListForm1.js"></script> 
        <input type="button" class="button" value="Generate PDF" onclick="generatePDF()">
    </form>   
</body>
</html>
